# 7 — Memory & ongoing instructions

Two memory types:

- Long-term rules (user-provided instructions): store in memories table as structured rules. System prompt includes these.
- Short-term working memory: per-conversation or per-task context.

When a webhook arrives (new email, calendar event, hubspot event):

- The webhook handler:
  1. loads user’s memories and recent relevant RAG context
  2. embeds event and stores documents/vectors
  3. invokes the "proactive-check" LLM prompt, e.g.: “A new email arrived from X; consider user rules and tools; propose actions.” The LLM may produce tool calls (e.g., create contact if not exist)

You must not hardcode scenarios; the LLM should be able to use tools and stored instructions to decide.

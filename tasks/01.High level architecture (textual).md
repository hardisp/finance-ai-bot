# 1 — High level architecture (textual)

Client (React/Next) ↔ API (Node/Express or Nest, TypeScript) ↔ Services:

- Auth: Google OAuth (Gmail + Calendar scopes), HubSpot OAuth
- Data ingestion / RAG:
  - Gmail importer (via Gmail API or Pub/Sub push)
  - HubSpot importer (contacts, notes)
  - Embed & store in Postgres + pgvector (vectors table)
- LLM service: OpenAI (or other LLM) for chat + embeddings
- Agent orchestration:
  - Tool wrappers for send_email, schedule_event, create_contact, get_events, hubspot_note, search_vector_store
  - Task orchestrator (Temporal or BullMQ) for long-running tasks that wait for replies
- Webhooks: Gmail (via Pub/Sub), HubSpot (webhooks), Google Calendar notifications or polling
- Database: Postgres (+pgvector extension), Redis (for job queue), Vault/KMS for secrets
- Frontend: Chat UI (chat-like, supports tool suggestions & cards)